---
author: 
title: 测试基础方法
description: 理论知识
date: 2020-03-04
slug: test-ways
image: 
categories:
    - 测试
tags: 
    - 基础
---

## 黒、白、灰盒测试

### 黑盒测试

黑盒测试把被测对象看成一个黑匣子，只考虑期整体的特性，不考虑期内部具体实现。

黑盒测试的被测对象可以是一个系统、一个子系统、一模块、子模块、一个函数等。

黑盒测试又可以被称为基于规格的测试。

#### **常见的黑盒测试类型**：

- 功能性测试
  - 一种是顺序测试每个程序特性或功能；
  - 另一种是一个模块一个模块的测试，即每个功能在其最先调用的地方被测试；
- 容量测试，检测软件在处理海量数据时的局限性，能发现系统效率方面的问题。
- 负载测试，检测系统在短时间内处理巨大的数据量或执行许多功能调用上的能力。
- 恢复性测试，主要保证系统在崩溃后能回复外部数据的能力。

### 白盒测试

白盒测试是依据被测软件分析程序内部构造，并根据内部构造设计用例，来对内部控制流程进行测试，可完全不顾程序的整体功能实现情况。

白盒测试是基于程序结构的逻辑驱动测试。

白盒测试又可以被称为玻璃盒测试、透明盒测试、开放盒测试、结构化测试、逻辑驱动测试。

白盒测试一般在测试前期进行，通过达到一定的逻辑覆盖率指标，使得软件内部逻辑控制结构上的问题能基本得到解决。

白盒测试能保证内部逻辑结构能达到一定的覆盖程度，能够给予软件代码质量更大的保证。

白盒测试发现问题后解决问题的成本较低，毕竟介入的早嘛。

白盒测试一般会用到静态分析和动态分析两类技术，常用的有：

- 静态分析：控制流分析、数据流分析、信息流分析；
- 动态分析：逻辑覆盖测试（分支测试、路径测试等）、程序插桩等。

#### **白盒测试的特点**

- 测试人员需要了解软件的实现；
- 可以检测代码中的每一条分支和路径；
- 揭示隐藏在代码代码中的错误；
- 对代码的测试相对彻底；
- 实现代码结构上的优化；
- 白盒测试的投入较大，成本高；
- 白盒测试不验证（需求）规格的正确性；

#### **逻辑覆盖率测试**

根据覆盖的对象不同，存在多种逻辑覆盖测试：

- 语句覆盖；
- 判定覆盖；
- 条件覆盖；
- 判定-条件覆盖；
- 路径覆盖；
- 等

而逻辑覆盖率的统计是通过**程序插桩**来实现的。

**程序插桩：**[程序插桩](https://baike.baidu.com/item/程序插桩)，最早是由J.C. Huang 教授提出的，它是在保证被测程序原有逻辑完整性的基础上在程序中插入一些[探针](https://baike.baidu.com/item/探针/1846154)（又称为“探测仪”，本质上就是进行信息采集的[代码段](https://baike.baidu.com/item/代码段/9966451)，可以是[赋值语句](https://baike.baidu.com/item/赋值语句/4248688)或采集覆盖信息的[函数调用](https://baike.baidu.com/item/函数调用/4127405)），通过[探针](https://baike.baidu.com/item/探针/1846154)的执行并抛出程序运行的[特征](https://baike.baidu.com/item/特征/6205236)数据，通过对这些数据的[分析](https://baike.baidu.com/item/分析/4327108)，可以获得程序的[控制流](https://baike.baidu.com/item/控制流/854473)和数据流信息，进而得到[逻辑覆盖](https://baike.baidu.com/item/逻辑覆盖/3231015)等动态信息，从而实现测试目的的方法。

简单来说，程序插桩就是我们在调试程序时，常常要在程序中插入一些打印语句（想想我们在程序中常用的print语句），其目的是希望在程序执行中打印出我们最为关心的信息，然后进一步通过这些信息了解程序执行过程中程序的一些动态特性。

从这一思想发展出程序插桩技术能够按照用户的要求，获取程序的各种信息，成为测试工作的有效测试手段。

### 灰盒测试

根据利用的被测对象的信息不同，会采用不同的方法进行测试，一般的：

- 利用被测对象的整体特性信息，采用黑盒测试方法。
- 利用被测对象的内部具体实现信息，采用白盒测试方法。
- 如果既是利用被测对象的整体特性信息，又利用被测对象的内部具体实现信息，采用的就是灰盒测试方法。两种信息占比不同，相应的灰度就不同，完全是整体特性信息，就是黑盒测试，完全是内部具体实现信息，就是白盒测试。

### 黑、白、灰盒测试方法总结

我们一般从以下五个维度来区分：

- 测试阶段不同：
  - 单元测试阶段主要利用白盒测试方法。
  - 集成测试阶段主要利用灰盒测试方法。
  - 系统测试阶段主要利用黑盒测试方法。
- 测试依据，因为测试阶段的不同，采用的测试方法也不同，那它们的测试依据也不同：
  - 白盒测试主要依据详细测试说明书（LLD）。
  - 黑盒测试主要依据需求规格（设计）说明书（SRS）。
  - 灰盒测试主要依据概要规格（设计）说明书（HLD）。
- 测试方法：
  - 白盒测试方法可以有静态和动态，控制流、信息流、数据流、各种覆盖率、插桩处理。
  - 黑盒测试方法有各种测试类型（功能型、负载、恢复性），以及应用等价类、边界值、流程图法、正交法等。
  - 灰盒测试这里即用白盒的，也用黑盒的。
- 评估基准：
  - 白盒根据逻辑覆盖率来评估。
  - 黑盒主要看需求规格的覆盖率。
  - 灰盒主要看接口覆盖率。
- 特点不一样：
  - 白盒测试，特点是及早的发现问题，定位问题也很快，缺点是对接口、对设计、程序之间的调用、用户感受也不是很好。
  - 黑盒解决问题的代价比较大，很大发现模块内部的问题。



## 静态、动态测试

软件研发可以看成是一个生产过程，在此过程中会有产品输出或者称为工件输出。

输出的产品可以分为两类：

- 最终产品，如变编译后的软件、用户手册等。
- 中间产品，如SRS、HLD、LLD、源代码等。

无论是最终产品还是中间产品，都可以分成代码和文档。

文档进一步细分还可以分为：

- 开发文档，如SRS、HLD、LLD。
- 测试文档，如测试计划、测试方案、测试用例等。

只要是软件产品，都是测试对象。

**静态测试和动态测试的划分**

静态测试，不运行被测对象，而是采用其他手段和技术对被测对象进行检测的一种测试技术。例如：代码走读、文档评审、程序分析都是静态测试的范畴，常用技术有静态分析技术。

动态测试，按照预先设计的数据和步骤去运行被测对象，从而对被测对象进行检测的一种测试技术，常用技术有动态分析技术。

### 静态测试

静态测试这里主要了解**静态分析技术**。

**定义：**静态分析是一种不通过执行程序而分析程序执行的技术。

**功能：**检查软件的表示和描述是否一致，没有冲突或者没有歧义，它的目标是纠正软件系统在描述、表示和规格上的错误，因此是任何进一步测试执行的前提。

主要有三种不同的程序测试可能性：

- 规格考虑，程序是否满足编码，语法上是否具有一致性和完整性。
- 考虑文档描述是否规范、准确、是否便于查阅，例如描述是否不清楚、出现歧义等。
- 考虑程序和文档之前的一致性，例如文档要求某文件大于1M抛出错误，而程序则是大于等于1M诸如此类的问题。

#### 静态技术结构：

- **手工静态分析——同行评审**
  - 正规检视，指定的人员参与、相关会议、相关文档都是比较正规的。
  - 技术评审。
  - 走查。
- **自动化静态分析**
  - **静态验证：**
    检测规格到程序实现之间的转换上的问题，验证器需要有形式化的规格和规格的形式化定义，静态验证比较程序提供的设计值和在规格文档中被预先定义的目标值。
  - **语法分析器：**
    是一个基本的自动化静态分析工具，它把程序/文档文本分解成独立的语句，当在内部检查程序/文本的时候，语句的一致性被进行了检查。
  - **符号执行器：**
    在符号短语中分析一个程序在给定的路径上做了什么事情，它模拟程序的执行，计算在程序不同位置上变量的值，符号执行器非常适用于数学算法的分析。

### 动态测试

**定义：**对软件系统运行行为进行分析，包含程序在受控的环境下使用特定的输入进行正式的运行，然后和期望的结果比较以检查系统运行时正确还是不正确。常用的动态分析技术：

- 路径测试
- 分支测试
- 性能测试

#### **常用动态分析工具功能**

| 动态分析类     | 工具的功能                                     |
| -------------- | ---------------------------------------------- |
| 测试覆盖率分析 | 测试对代码的检测范围                           |
| 跟踪           | 跟踪程序执行期间的所有路径，例如所有变量的值等 |
| 调整           | 度量程序执行过程中使用的资源                   |
| 模拟           | 模拟系统的一部分，例如无法获得的代码或者硬件   |
| 断言检查       | 测试在复杂逻辑结构中是否某个条件已被给出       |

#### 常用动态测试工具

- QARun
- Robot
- QTP
- SikTest
- LoadRunner
- SilkPerformer

## 人工测试、自动化测试

**人工测试：**测试活动（评审、测试设计、测试执行）由人来完成，狭义上是指测试执行由人工完成，这是最基本的测试形式。

**自动化测试：**一般指通过计算机模拟人的测试行为，替代人的测试活动，狭义上是指测试执行由计算机来完成。

**自动化测试工具：**

- 由HP提供的Quick Test Professional。
- Rational Robot，由IBM提供。
- Coded UI，由Microsoft提供。
- Selenium，开源软件。
- Auto It，开源软件。

**自动化测试的分类**

- 按照测试目的大致分为：功能自动化测试、性能自动化测试。
- 按照测试对象可划分：web自动化测试、APP方向自动化测试、接口自动化测试、单元测试等。
- 其他的包括代码测试和数据测试等。

**自动化测试解决了哪些问题**

- 回归测试：项目在发布新版之后，对之前的功能进行验证。
- 压力测试：统计软件服务器处理并发的能力，比如能支持多少个用户同时访问。
- 兼容性测试：不同的系统平台，或者不同的浏览器。
- 提高测试效率，保证了产品的质量。

**适合自动化测试的场景**

- 测试任务明确，不会频繁变动。
- 软件需求变更较少。
- 项目周期长，测试脚本可以复用。

**自动化测试的限制**

- 不能取代手工测试，自动化测试只能提高测试效率，不能提高测试有效性，即不可能发现更多缺陷。
- 手工测试比自动化测试发现的缺陷更多。
- 对测试设计依赖性极大，测试设计的不好会遗漏问题。
- 自动化测试对软件开发具有很大的依赖性，开发上出现变更可能导致前面的自动化测试完全失效。
- 工具本身并不具备想象力。